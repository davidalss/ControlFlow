@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
@import './styles/theme.css';
@import './styles/animations.css';
@import './styles/modal-fixes.css';
@import './styles/responsive-fixes.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* === SISTEMA DE TEMAS ENSO - STONE COLOR PALETTE === */

/* TEMA CLARO */
:root {
  /* === CORES PRIMÁRIAS === */
  --primary: #1c1917;        /* stone-900 - Botões principais, links ativos */
  --primary-hover: #292524;  /* stone-800 - Hover states */
  --primary-light: #44403c;  /* stone-700 - Elementos secundários */

  /* === BACKGROUNDS === */
  --bg-main: #fafaf9;        /* stone-50 - Fundo principal */
  --bg-secondary: #f5f5f4;   /* stone-100 - Cards, modais */
  --bg-tertiary: #e7e5e4;    /* stone-200 - Inputs, áreas destacadas */
  --bg-accent: #d6d3d1;      /* stone-300 - Divisores, bordas */

  /* === TEXTOS === */
  --text-primary: #1c1917;   /* stone-900 - Títulos principais */
  --text-secondary: #292524; /* stone-800 - Subtítulos */
  --text-body: #44403c;      /* stone-700 - Texto corpo */
  --text-muted: #57534e;     /* stone-600 - Texto secundário */
  --text-subtle: #78716c;    /* stone-500 - Placeholders, labels */

  /* === ELEMENTOS UI === */
  --border: #d6d3d1;         /* stone-300 - Bordas padrão */
  --border-light: #e7e5e4;   /* stone-200 - Bordas sutis */
  --shadow: rgba(28, 25, 23, 0.1); /* Sombras */

  /* === CORES DE STATUS === */
  --success: #059669;        /* emerald-600 */
  --success-light: #10b981;  /* emerald-500 */
  --warning: #d97706;        /* amber-600 */
  --warning-light: #f59e0b;  /* amber-500 */
  --error: #dc2626;          /* red-600 */
  --error-light: #ef4444;    /* red-500 */
  --info: #0891b2;           /* cyan-600 */
  --info-light: #06b6d4;     /* cyan-500 */

  /* === GRADIENTES === */
  --gradient-primary: linear-gradient(135deg, #1c1917 0%, #44403c 100%);
  --gradient-secondary: linear-gradient(135deg, #f5f5f4 0%, #e7e5e4 100%);
  --gradient-accent: linear-gradient(135deg, #d6d3d1 0%, #a8a29e 100%);

  /* === TIPOGRAFIA === */
  --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-base: 16px;
  --font-size-lg: 18px;
  --font-size-xl: 20px;
  --font-size-2xl: 24px;
  --font-size-3xl: 30px;

  /* === ESPAÇAMENTOS === */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;

  /* === BORDER RADIUS === */
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;

  /* === TRANSITIONS === */
  --transition-fast: 0.15s ease;
  --transition-normal: 0.3s ease;
  --transition-slow: 0.5s ease;
}

/* TEMA ESCURO */
[data-theme="dark"] {
  /* === CORES PRIMÁRIAS === */
  --primary: #f5f5f4;        /* stone-100 - Botões principais, links ativos */
  --primary-hover: #e7e5e4;  /* stone-200 - Hover states */
  --primary-light: #d6d3d1;  /* stone-300 - Elementos secundários */

  /* === BACKGROUNDS === */
  --bg-main: #0c0a09;        /* stone-950 - Fundo principal */
  --bg-secondary: #1c1917;   /* stone-900 - Cards, modais */
  --bg-tertiary: #292524;    /* stone-800 - Inputs, áreas destacadas */
  --bg-accent: #44403c;      /* stone-700 - Divisores, bordas */

  /* === TEXTOS === */
  --text-primary: #fafaf9;   /* stone-50 - Títulos principais */
  --text-secondary: #f5f5f4; /* stone-100 - Subtítulos */
  --text-body: #e7e5e4;      /* stone-200 - Texto corpo */
  --text-muted: #d6d3d1;     /* stone-300 - Texto secundário */
  --text-subtle: #a8a29e;    /* stone-400 - Placeholders, labels */

  /* === ELEMENTOS UI === */
  --border: #44403c;         /* stone-700 - Bordas padrão */
  --border-light: #292524;   /* stone-800 - Bordas sutis */
  --shadow: rgba(0, 0, 0, 0.3); /* Sombras */

  /* === GRADIENTES === */
  --gradient-primary: linear-gradient(135deg, #f5f5f4 0%, #d6d3d1 100%);
  --gradient-secondary: linear-gradient(135deg, #1c1917 0%, #292524 100%);
  --gradient-accent: linear-gradient(135deg, #44403c 0%, #78716c 100%);
}

/* === APLICAÇÃO GLOBAL DO TEMA === */
html {
  background-color: var(--bg-main);
  color: var(--text-primary);
  transition: background-color var(--transition-slow), color var(--transition-slow);
}

body {
  background-color: var(--bg-main);
  color: var(--text-primary);
  font-family: var(--font-family);
  margin: 0;
  padding: 0;
  line-height: 1.6;
  transition: background-color var(--transition-slow), color var(--transition-slow);
}

/* === ELEMENTOS GLOBAIS COM SUPORTE AO TEMA === */
* {
  transition: background-color var(--transition-normal), 
              color var(--transition-normal), 
              border-color var(--transition-normal),
              box-shadow var(--transition-normal);
}

/* === BOTÕES === */
button {
  background-color: var(--bg-secondary);
  color: var(--text-primary);
  border: 1px solid var(--border);
  transition: all var(--transition-normal);
}

button:hover {
  background-color: var(--primary-hover);
  border-color: var(--primary);
  color: var(--bg-main);
}

button:focus {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* === INPUTS === */
input, select, textarea {
  background-color: var(--bg-tertiary);
  color: var(--text-primary);
  border: 1px solid var(--border);
  transition: all var(--transition-normal);
}

input:focus, select:focus, textarea:focus {
  border-color: var(--primary);
  outline: none;
  box-shadow: 0 0 0 2px var(--primary);
  background-color: var(--bg-secondary);
}

input::placeholder, textarea::placeholder {
  color: var(--text-subtle);
}

/* === CARDS === */
.card {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border);
  box-shadow: 0 4px 6px var(--shadow);
}

/* === TABELAS === */
table {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border);
}

th, td {
  border-bottom: 1px solid var(--border);
  color: var(--text-primary);
}

th {
  background-color: var(--bg-tertiary);
  color: var(--text-secondary);
  font-weight: 600;
}

tr:hover {
  background-color: var(--bg-accent);
}

/* === MODAIS === */
.modal {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border);
  box-shadow: 0 20px 25px var(--shadow);
}

.modal-overlay {
  background-color: rgba(0, 0, 0, 0.5);
}

/* === DROPDOWNS === */
.dropdown {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border);
  box-shadow: 0 10px 15px var(--shadow);
}

.dropdown-item:hover {
  background-color: var(--bg-accent);
}

/* === SCROLLBAR === */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-muted);
}

/* === SHADCN/UI THEME VARIABLES === */
:root {
  --background: var(--bg-main);
  --foreground: var(--text-primary);
  --card: var(--bg-secondary);
  --card-foreground: var(--text-primary);
  --popover: var(--bg-secondary);
  --popover-foreground: var(--text-primary);
  --primary: var(--primary);
  --primary-foreground: var(--bg-main);
  --secondary: var(--bg-tertiary);
  --secondary-foreground: var(--text-primary);
  --muted: var(--bg-accent);
  --muted-foreground: var(--text-muted);
  --accent: var(--bg-accent);
  --accent-foreground: var(--text-primary);
  --destructive: var(--error);
  --destructive-foreground: var(--bg-main);
  --border: var(--border);
  --input: var(--bg-tertiary);
  --ring: var(--primary);
  --chart-1: var(--primary);
  --chart-2: var(--success);
  --chart-3: var(--warning);
  --chart-4: var(--info);
  --chart-5: var(--error);
  --sidebar: var(--bg-secondary);
  --sidebar-foreground: var(--text-primary);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--bg-main);
  --sidebar-accent: var(--bg-accent);
  --sidebar-accent-foreground: var(--text-primary);
  --sidebar-border: var(--border);
  --sidebar-ring: var(--primary);
  --font-sans: var(--font-family);
  --font-serif: Georgia, serif;
  --font-mono: Menlo, monospace;
  --radius: var(--radius-md);
  --shadow-2xs: 0px 2px 0px 0px var(--shadow);
  --shadow-xs: 0px 2px 0px 0px var(--shadow);
  --shadow-sm: 0px 2px 0px 0px var(--shadow), 0px 1px 2px -1px var(--shadow);
  --shadow: 0px 2px 0px 0px var(--shadow), 0px 1px 2px -1px var(--shadow);
  --shadow-md: 0px 2px 0px 0px var(--shadow), 0px 2px 4px -1px var(--shadow);
  --shadow-lg: 0px 2px 0px 0px var(--shadow), 0px 4px 6px -1px var(--shadow);
  --shadow-xl: 0px 2px 0px 0px var(--shadow), 0px 8px 10px -1px var(--shadow);
  --shadow-2xl: 0px 2px 0px 0px var(--shadow);
  --tracking-normal: 0em;
  --spacing: var(--spacing-sm);
}

.dark {
  --background: var(--bg-main);
  --foreground: var(--text-primary);
  --card: var(--bg-secondary);
  --card-foreground: var(--text-primary);
  --popover: var(--bg-secondary);
  --popover-foreground: var(--text-primary);
  --primary: var(--primary);
  --primary-foreground: var(--bg-main);
  --secondary: var(--bg-tertiary);
  --secondary-foreground: var(--text-primary);
  --muted: var(--bg-accent);
  --muted-foreground: var(--text-muted);
  --accent: var(--bg-accent);
  --accent-foreground: var(--text-primary);
  --destructive: var(--error);
  --destructive-foreground: var(--bg-main);
  --border: var(--border);
  --input: var(--bg-tertiary);
  --ring: var(--primary);
  --chart-1: var(--primary);
  --chart-2: var(--success);
  --chart-3: var(--warning);
  --chart-4: var(--info);
  --chart-5: var(--error);
  --sidebar: var(--bg-secondary);
  --sidebar-foreground: var(--text-primary);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--bg-main);
  --sidebar-accent: var(--bg-accent);
  --sidebar-accent-foreground: var(--text-primary);
  --sidebar-border: var(--border);
  --sidebar-ring: var(--primary);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}

/* === COMPONENTES ESPECÍFICOS === */
.section-title {
  font-size: 1.8rem;
  font-weight: 700;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  position: relative;
  display: inline-block;
}

.section-title::after {
  content: '';
  position: absolute;
  bottom: -5px;
  left: 0;
  width: 100%;
  height: 3px;
  background: var(--gradient-primary);
  border-radius: 3px;
}

.icon-container {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: var(--gradient-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
}

.icon-container i {
  font-size: 20px;
  color: var(--bg-main);
  z-index: 2;
}

.icon-pulse {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% {
    transform: scale(0.8);
    opacity: 0.7;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.3;
  }
}

.table-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 20px;
  background: var(--gradient-primary);
  color: var(--bg-main);
}

.table-wrapper {
  background: var(--bg-secondary);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid var(--border);
}

.nqa-table {
  width: 100%;
  border-collapse: collapse;
}

.nqa-table th {
  background: var(--bg-tertiary);
  color: var(--text-primary);
  font-weight: 600;
  padding: 15px;
  text-align: left;
}

.nqa-table td {
  padding: 15px;
  border-bottom: 1px solid var(--border);
}

.level-indicator {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  margin-right: 10px;
  box-shadow: 0 0 8px currentColor;
}

.level-indicator.critical {
  background: var(--error);
}

.level-indicator.major {
  background: var(--warning);
}

.level-indicator.minor {
  background: var(--success);
}

.legend-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

.legend-card {
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 20px var(--shadow);
  background: var(--bg-secondary);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid var(--border);
}

.legend-card .card-header {
  display: flex;
  align-items: center;
  padding: 15px;
  background: var(--bg-tertiary);
  border-bottom: 1px solid var(--border);
}

.legend-card .card-header h4 {
  margin-left: 10px;
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--text-primary);
}

.legend-card .card-content {
  padding: 15px;
  font-size: 0.9rem;
  line-height: 1.5;
  color: var(--text-body);
}

.legend-card .card-footer {
  padding: 15px;
  background: var(--bg-accent);
  border-top: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.legend-card .progress-bar {
  flex-grow: 1;
  height: 8px;
  background: var(--bg-tertiary);
  border-radius: 4px;
  overflow: hidden;
}

.legend-card .progress {
  height: 100%;
  border-radius: 4px;
}

.legend-card.critical .card-header h4 { color: var(--error); }
.legend-card.critical .progress { background: var(--error); }
.legend-card.major .card-header h4 { color: var(--warning); }
.legend-card.major .progress { background: var(--warning); }
.legend-card.minor .card-header h4 { color: var(--success); }
.legend-card.minor .progress { background: var(--success); }

.nqa-explanation, .nqa-example {
  margin-top: 40px;
  padding: 20px;
  background: var(--bg-secondary);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid var(--border);
  border-radius: 12px;
  box-shadow: 0 8px 20px var(--shadow);
}

.explanation-header, .example-header {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}

.explanation-header h3, .example-header h3 {
  font-size: 1.5rem;
  font-weight: 700;
  margin-left: 15px;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.explanation-content p {
  margin-bottom: 15px;
  line-height: 1.6;
  color: var(--text-body);
}

.process-visualization {
  display: flex;
  justify-content: space-around;
  align-items: center;
  margin-top: 30px;
}

.process-step {
  text-align: center;
}

.process-step .step-icon {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: var(--gradient-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 10px;
  color: var(--bg-main);
  font-size: 24px;
}

.process-connection {
  width: 50px;
  height: 2px;
  background: var(--border);
}

.calculation-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.calc-card {
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 20px var(--shadow);
  background: var(--bg-secondary);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid var(--border);
}

.calc-header {
  display: flex;
  align-items: center;
  padding: 15px;
  background: var(--bg-tertiary);
  border-bottom: 1px solid var(--border);
}

.calc-header h4 {
  margin-left: 10px;
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--text-primary);
}

.calc-body {
  padding: 15px;
}

.calc-formula {
  margin-bottom: 10px;
}

.calc-formula .calc-step {
  display: flex;
  align-items: center;
  margin-bottom: 5px;
}

.calc-formula .calc-label {
  font-weight: 600;
  margin-right: 10px;
  color: var(--text-secondary);
}

.calc-formula .calc-equation {
  font-family: monospace;
  background: var(--bg-accent);
  padding: 3px 8px;
  border-radius: 4px;
  color: var(--text-primary);
}

.calc-formula .calc-result {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--primary);
}

.calc-description {
  font-size: 0.9rem;
  color: var(--text-muted);
}

.calc-card.critical .calc-header h4 { color: var(--error); }
.calc-card.major .calc-header h4 { color: var(--warning); }
.calc-card.minor .calc-header h4 { color: var(--success); }

.example-conclusion {
  margin-top: 30px;
  padding: 20px;
  background: var(--bg-accent);
  border-radius: 12px;
  display: flex;
  align-items: flex-start;
}

.conclusion-icon {
  margin-right: 20px;
}

.conclusion-text h4 {
  font-size: 1.4rem;
  font-weight: 700;
  margin-bottom: 10px;
  color: var(--primary);
}

.conclusion-content p {
  margin-bottom: 10px;
  line-height: 1.6;
  color: var(--text-body);
}

.conclusion-metric {
  display: flex;
  justify-content: space-around;
  margin-top: 20px;
}

.metric-item {
  text-align: center;
}

.metric-value {
  font-size: 1.8rem;
  font-weight: 700;
}

.metric-value.critical { color: var(--error); }
.metric-value.major { color: var(--warning); }
.metric-value.minor { color: var(--success); }
.metric-label {
  font-size: 0.9rem;
  color: var(--text-muted);
}

.inspection-level-selection {
  margin: 20px 0;
  padding: 15px;
  background: var(--bg-accent);
  border-radius: 8px;
  display: flex;
  align-items: center;
  gap: 15px;
}

.inspection-level-selection label {
  font-weight: 600;
  color: var(--text-primary);
}

.inspection-level-selection select {
  padding: 8px 12px;
  border: 1px solid var(--border);
  border-radius: 5px;
  background-color: var(--bg-tertiary);
  font-size: 1rem;
  color: var(--text-primary);
  cursor: pointer;
  outline: none;
  transition: border-color 0.2s ease-in-out;
}

.inspection-level-selection select:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px var(--primary);
}

/* === TABS TRIGGER STYLES === */
[data-radix-tabs-trigger] {
  color: var(--text-primary) !important;
  background-color: transparent !important;
  transition: all var(--transition-normal);
}

[data-radix-tabs-trigger][data-state="active"] {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
  font-weight: 600;
  box-shadow: var(--shadow-sm);
}

[data-radix-tabs-trigger][data-state="inactive"] {
  color: var(--text-muted) !important;
  background-color: transparent !important;
}

[data-radix-tabs-trigger]:hover {
  background-color: var(--bg-accent) !important;
  color: var(--text-primary) !important;
}

/* === LOGO BUTTON STYLES === */
.logo-button {
  background: transparent !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

.logo-button:hover {
  background: transparent !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

.logo-button:focus {
  background: transparent !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* === ANIMAÇÕES PERSONALIZADAS === */
@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spin-slow 3s linear infinite;
}

/* === GRADIENTES E EFEITOS === */
.gradient-bg {
  background: var(--gradient-primary);
}

.glass-effect {
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* === ANIMAÇÕES DE ENTRADA === */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out;
}

/* === EFEITOS DE HOVER === */
.hover-lift {
  transition: transform 0.2s ease-in-out;
}

.hover-lift:hover {
  transform: translateY(-2px);
}

/* === PARTÍCULAS FLUTUANTES === */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-20px);
  }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}
