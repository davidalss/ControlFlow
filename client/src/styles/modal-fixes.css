

/* Correções para modais com scroll */
.modal-scroll-fix {
  /* Garante que o modal tenha altura máxima e scroll funcional */
  max-height: 95vh !important;
  height: auto !important;
  overflow: hidden !important;
}

.modal-content-scroll {
  /* Container principal do modal com flex */
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  max-height: 95vh !important;
}

.modal-header-fixed {
  /* Header fixo no topo */
  flex-shrink: 0 !important;
  padding: 1.5rem !important;
  padding-bottom: 1rem !important;
}

.modal-body-scroll {
  /* Corpo do modal com scroll */
  flex: 1 !important;
  overflow: hidden !important;
  min-height: 0 !important;
  display: flex !important;
  flex-direction: column !important;
}

.modal-tabs-container {
  /* Container das abas com flex */
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
}

.modal-tabs-list {
  /* Lista de abas fixa */
  flex-shrink: 0 !important;
  margin: 0 1.5rem 1rem 1.5rem !important;
}

.modal-tabs-content {
  /* Conteúdo das abas com scroll */
  flex: 1 !important;
  overflow: hidden !important;
  padding: 0 1.5rem !important;
}

.modal-tab-panel {
  /* Painel individual de cada aba */
  height: 100% !important;
  margin: 0 !important;
}

.modal-scroll-area {
  /* Área de scroll dentro de cada aba */
  height: 100% !important;
}

.modal-scroll-content {
  /* Conteúdo dentro da área de scroll */
  padding-bottom: 1.5rem !important;
}

.modal-footer-fixed {
  /* Footer fixo na parte inferior */
  flex-shrink: 0 !important;
  padding: 1.5rem !important;
  padding-top: 1rem !important;
}

/* Correções específicas para o modal de planos de inspeção */
.modal-responsive {
  max-height: 90vh !important;
  height: 90vh !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important;
}

.modal-header {
  flex-shrink: 0 !important;
  padding: 1.5rem !important;
  padding-bottom: 1rem !important;
}

.tabs-list {
  flex-shrink: 0 !important;
  margin: 0 1.5rem 1rem 1.5rem !important;
}

.tabs-content {
  flex: 1 !important;
  overflow: hidden !important;
  margin: 0 !important;
  padding: 0 !important;
  height: 100% !important;
  display: flex !important;
  flex-direction: column !important;
}

.scroll-area {
  flex: 1 !important;
  height: 100% !important;
  max-height: none !important;
  overflow: auto !important;
}

/* Garantir que o conteúdo dentro do ScrollArea tenha espaço suficiente */
.scroll-area > div {
  padding: 1.5rem !important;
  padding-bottom: 2rem !important;
  min-height: 100% !important;
}

/* Correções para cards dentro do modal */
.modal-card {
  margin-bottom: 1rem !important;
}

.modal-card-header {
  padding: 1rem !important;
  padding-bottom: 0.5rem !important;
}

/* Footer fixo do modal */
.modal-footer {
  flex-shrink: 0 !important;
  padding: 1.5rem !important;
  padding-top: 1rem !important;
  border-top: 1px solid #e5e7eb !important;
  background: white !important;
}

/* Correções específicas para o Radix UI Dialog */
[data-radix-dialog-content] {
  max-height: 95vh !important;
  height: auto !important;
  overflow: hidden !important;
}

/* Correções para o Radix UI ScrollArea */
[data-radix-scroll-area-viewport] {
  height: 100% !important;
  width: 100% !important;
}

/* Garantir que o scroll funcione em dispositivos móveis */
@media (max-width: 768px) {
  .modal-scroll-fix {
    max-height: 90vh !important;
    width: 95vw !important;
  }
  
  .modal-header-fixed {
    padding: 1rem !important;
    padding-bottom: 0.75rem !important;
  }
  
  .modal-tabs-list {
    margin: 0 1rem 0.75rem 1rem !important;
  }
  
  .modal-tabs-content {
    padding: 0 1rem !important;
  }
  
  .modal-footer-fixed {
    padding: 1rem !important;
    padding-top: 0.75rem !important;
  }
}

/* Correções para telas muito pequenas */
@media (max-width: 480px) {
  .modal-scroll-fix {
    max-height: 85vh !important;
    width: 98vw !important;
  }
}

/* ===== CORREÇÕES PARA CAMPOS DE PRODUTO EM FORMULÁRIOS ===== */

/* Correção para o campo de produto no formulário de plano de inspeção */
.product-select-container {
  position: relative;
  z-index: 1000;
}

/* Correção específica para o ProductSelector em planos de inspeção */
.product-selector-results {
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 9999 !important;
  background: white !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  max-height: 240px !important;
  overflow-y: auto !important;
  margin-top: 0.25rem !important;
}

/* Tema escuro para o ProductSelector */
[data-theme="dark"] .product-selector-results {
  background: #1c1917 !important;
  border-color: #44403c !important;
  color: #f5f5f4 !important;
}

/* Garantir que o container do ProductSelector tenha z-index adequado */
.product-selector-container {
  position: relative !important;
  z-index: 1000 !important;
}

/* Correção para o input do ProductSelector */
.product-selector-input {
  position: relative !important;
  z-index: 1001 !important;
}

.product-select-container .product-suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  z-index: 9999 !important;
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 0.375rem;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  max-height: 240px;
  overflow-y: auto;
  margin-top: 0.25rem;
}

/* Tema escuro */
[data-theme="dark"] .product-select-container .product-suggestions {
  background: #1c1917;
  border-color: #44403c;
  color: #f5f5f4;
}

/* Correção para o Select do shadcn/ui */
.product-select-container .SelectContent {
  z-index: 9999 !important;
}

/* Correção para evitar sobreposição com outros elementos */
.product-select-container input {
  position: relative;
  z-index: 1001;
}

/* Correção para o dropdown de produtos */
.product-suggestions {
  z-index: 9999 !important;
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  background: white !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  max-height: 240px !important;
  overflow-y: auto !important;
  margin-top: 0.25rem !important;
}

/* Tema escuro para o dropdown */
[data-theme="dark"] .product-suggestions {
  background: #1c1917 !important;
  border-color: #44403c !important;
  color: #f5f5f4 !important;
}

/* Correção para itens do dropdown */
.product-suggestions .product-item {
  padding: 0.5rem 0.75rem;
  cursor: pointer;
  transition: background-color 0.15s ease-in-out;
}

.product-suggestions .product-item:hover {
  background-color: #f3f4f6;
}

[data-theme="dark"] .product-suggestions .product-item:hover {
  background-color: #292524;
}

/* Correção para o campo de input do produto */
.product-input-container {
  position: relative;
  z-index: 1000;
}

.product-input-container input {
  position: relative;
  z-index: 1001;
}

/* Correção para evitar conflitos com outros modais */
.product-select-container,
.product-input-container {
  isolation: isolate;
}

/* Correção específica para o formulário de plano de inspeção */
.inspection-plan-form .product-select-container,
.inspection-plan-form .product-input-container {
  z-index: 1000;
}

/* Correção para o modal de criação de plano */
[data-radix-popper-content-wrapper] {
  z-index: 9999 !important;
}

/* Correção específica para o formulário de plano de inspeção */
.inspection-plan-form {
  display: flex !important;
  flex-direction: column !important;
  height: 90vh !important;
}

.inspection-plan-form .DialogContent {
  display: flex !important;
  flex-direction: column !important;
  height: 90vh !important;
  max-height: 90vh !important;
}

.inspection-plan-form .DialogFooter {
  position: sticky !important;
  bottom: 0 !important;
  background: white !important;
  border-top: 1px solid #e5e7eb !important;
  padding-top: 1rem !important;
  margin-top: auto !important;
  z-index: 1000 !important;
}

[data-theme="dark"] .inspection-plan-form .DialogFooter {
  background: #1c1917 !important;
  border-top-color: #44403c !important;
}

.inspection-plan-form .TabsContent {
  flex: 1 !important;
  overflow: hidden !important;
  display: flex !important;
  flex-direction: column !important;
}

.inspection-plan-form .ScrollArea {
  flex: 1 !important;
  overflow: hidden !important;
}

/* Correção para o SelectContent do Radix */
[data-radix-select-content] {
  z-index: 9999 !important;
}

/* Correção para evitar sobreposição com cards */
.card {
  position: relative;
  z-index: 1;
}

/* Correção para o container do formulário */
.form-container {
  position: relative;
  z-index: 1;
}

/* Correção para o campo de produto específico */
.product-field {
  position: relative;
  z-index: 1000;
}

.product-field input,
.product-field .SelectTrigger {
  position: relative;
  z-index: 1001;
}

.product-field .product-suggestions,
.product-field .SelectContent {
  z-index: 99999 !important;
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  background: white !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  max-height: 240px !important;
  overflow-y: auto !important;
  margin-top: 0.25rem !important;
  pointer-events: auto !important;
}

/* Correção para o tema escuro */
[data-theme="dark"] .product-suggestions {
  background: #1c1917 !important;
  border-color: #44403c !important;
  color: #f5f5f4 !important;
}

[data-theme="dark"] .product-suggestions .product-item:hover {
  background-color: #292524 !important;
}

/* Correção para o tema escuro nos formulários específicos */
[data-theme="dark"] .inspection-plan-form .product-suggestions,
[data-theme="dark"] .new-inspection-plan-form .product-suggestions {
  background: #1c1917 !important;
  border-color: #44403c !important;
  color: #f5f5f4 !important;
}

[data-theme="dark"] .inspection-plan-form .product-suggestions .product-item:hover,
[data-theme="dark"] .new-inspection-plan-form .product-suggestions .product-item:hover {
  background-color: #292524 !important;
}

/* Correção para o ícone de check no campo */
.product-field .absolute {
  z-index: 1002;
}

/* Correção para evitar conflitos com outros elementos */
.product-field * {
  position: relative;
}

.product-field .product-suggestions * {
  position: static;
}

/* Correção adicional para garantir que o dropdown apareça corretamente */
.product-suggestions {
  z-index: 999999 !important;
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  background: white !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  max-height: 240px !important;
  overflow-y: auto !important;
  margin-top: 0.25rem !important;
  pointer-events: auto !important;
}

/* Correção específica para o formulário de plano de inspeção */
.inspection-plan-form .product-suggestions,
.new-inspection-plan-form .product-suggestions {
  z-index: 999999 !important;
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  background: white !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  max-height: 240px !important;
  overflow-y: auto !important;
  margin-top: 0.25rem !important;
  pointer-events: auto !important;
}

/* Correção para garantir que o container de descrição não sobreponha o dropdown */
.inspection-plan-form .space-y-4,
.new-inspection-plan-form .space-y-4 {
  position: relative;
  z-index: 1;
}

/* Correção para o container do campo de produto */
.product-field,
.product-input-container {
  position: relative !important;
  z-index: 1000 !important;
  isolation: isolate !important;
}

/* Correção final para garantir que o dropdown apareça acima de tudo */
.product-suggestions,
.product-field .product-suggestions,
.inspection-plan-form .product-suggestions,
.new-inspection-plan-form .product-suggestions {
  z-index: 9999999 !important;
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  background: white !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  max-height: 240px !important;
  overflow-y: auto !important;
  margin-top: 0.25rem !important;
  pointer-events: auto !important;
  transform: translateZ(0) !important;
}

/* Correção para o tema escuro no dropdown final */
[data-theme="dark"] .product-suggestions,
[data-theme="dark"] .product-field .product-suggestions,
[data-theme="dark"] .inspection-plan-form .product-suggestions,
[data-theme="dark"] .new-inspection-plan-form .product-suggestions {
  background: #1c1917 !important;
  border-color: #44403c !important;
  color: #f5f5f4 !important;
}

/* Correção específica para garantir que o dropdown apareça acima do container de descrição */
.inspection-plan-form .space-y-4 > div:nth-child(2),
.new-inspection-plan-form .space-y-4 > div:nth-child(2) {
  position: relative;
  z-index: 1;
}

.inspection-plan-form .product-field,
.new-inspection-plan-form .product-field {
  position: relative !important;
  z-index: 9999999 !important;
  isolation: isolate !important;
}

/* Garantir que o dropdown tenha o z-index mais alto possível */
.inspection-plan-form .product-suggestions,
.new-inspection-plan-form .product-suggestions {
  z-index: 99999999 !important;
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  background: white !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  max-height: 240px !important;
  overflow-y: auto !important;
  margin-top: 0.25rem !important;
  pointer-events: auto !important;
  transform: translateZ(0) !important;
}

/* Tema escuro para o dropdown final */
[data-theme="dark"] .inspection-plan-form .product-suggestions,
[data-theme="dark"] .new-inspection-plan-form .product-suggestions {
  background: #1c1917 !important;
  border-color: #44403c !important;
  color: #f5f5f4 !important;
}

/* Correção para o tema escuro */
[data-theme="dark"] .product-suggestions {
  background: #1c1917 !important;
  border-color: #44403c !important;
  color: #f5f5f4 !important;
}

/* Correção para garantir que os itens sejam clicáveis */
.product-suggestions .product-item {
  pointer-events: auto !important;
  cursor: pointer !important;
  user-select: none !important;
}

/* Correção para o container do campo de produto */
.product-field {
  position: relative !important;
  z-index: 1000 !important;
}

.product-input-container {
  position: relative !important;
  z-index: 1001 !important;
}

/* Correção para o input do produto */
.product-input-container input {
  position: relative !important;
  z-index: 1002 !important;
}

/* Correção para o ícone no campo */
.product-input-container .absolute {
  z-index: 1003 !important;
}

/* ===== CORREÇÕES PARA NOTIFICAÇÕES NO HEADER ===== */

/* Correção para o botão de notificação no header */
.header-actions .relative {
  position: relative !important;
  z-index: 1000 !important;
}

/* Correção para o dropdown de notificações */
.notification-dropdown {
  position: fixed !important;
  z-index: 99999 !important;
  top: 5rem !important;
  right: 1rem !important;
  background: white !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
  max-height: 80vh !important;
  overflow: hidden !important;
  pointer-events: auto !important;
}

/* Tema escuro para notificações */
[data-theme="dark"] .notification-dropdown {
  background: #1c1917 !important;
  border-color: #44403c !important;
  color: #f5f5f4 !important;
}

/* Correção para garantir que as notificações apareçam na frente de tudo */
.notification-center {
  position: relative !important;
  z-index: 1000 !important;
}

.notification-center .fixed {
  position: fixed !important;
  z-index: 99999 !important;
}

/* Correção para o overlay das notificações */
.notification-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  z-index: 99998 !important;
  background: transparent !important;
  pointer-events: auto !important;
}

/* Correção para o container principal do dashboard */
.main-content-responsive {
  position: relative !important;
  z-index: 1 !important;
  overflow: visible !important;
}

/* Correção para o header */
.header-responsive {
  position: relative !important;
  z-index: 100 !important;
}

/* Correção para garantir que as notificações não sejam cortadas */
.dashboard-container,
.main-content,
.overflow-auto,
.overflow-hidden {
  overflow: visible !important;
}

/* Correção específica para o layout principal */
.flex.h-screen {
  overflow: visible !important;
}

/* Correção para o conteúdo principal */
.flex-1.overflow-auto {
  overflow: visible !important;
}

/* Correção para garantir que as notificações apareçam corretamente */
.notification-portal {
  position: fixed !important;
  z-index: 99999 !important;
  pointer-events: auto !important;
}

/* Correção para o botão de notificação */
.notification-button {
  position: relative !important;
  z-index: 1001 !important;
}

/* Correção para o dropdown de notificações usando portal */
.notification-dropdown-portal {
  position: fixed !important;
  z-index: 99999 !important;
  top: 5rem !important;
  right: 1rem !important;
  background: white !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
  max-height: 80vh !important;
  overflow: hidden !important;
  pointer-events: auto !important;
  width: 24rem !important;
}

/* Tema escuro para notificações com portal */
[data-theme="dark"] .notification-dropdown-portal {
  background: #1c1917 !important;
  border-color: #44403c !important;
  color: #f5f5f4 !important;
}

/* Correção para garantir que o z-index seja respeitado */
.notification-wrapper {
  position: relative !important;
  z-index: 1000 !important;
}

/* Correção para o container do header */
.header-content {
  position: relative !important;
  z-index: 100 !important;
}

/* Correção para evitar conflitos com outros elementos */
.notification-container {
  isolation: isolate !important;
}

/* Correção para garantir que as notificações apareçam na frente de modais */
.notification-dropdown,
.notification-dropdown-portal {
  z-index: 999999 !important;
}

/* Correção para o backdrop das notificações */
.notification-backdrop {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  z-index: 999998 !important;
  background: transparent !important;
  pointer-events: auto !important;
}
