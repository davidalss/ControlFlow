<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Controle de Qualidade - WAP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    'inter': ['Inter', 'sans-serif'],
                },
                colors: {
                    primary: {
                        50: '#E3F2FD',
                        100: '#BBDEFB', 
                        500: '#1976D2',
                        600: '#1565C0',
                        700: '#0D47A1'
                    },
                    secondary: {
                        500: '#388E3C',
                        600: '#2E7D32'
                    },
                    accent: {
                        500: '#F57C00',
                        600: '#EF6C00'
                    },
                    neutral: {
                        50: '#FAFAFA',
                        100: '#F5F5F5',
                        200: '#EEEEEE',
                        300: '#E0E0E0',
                        400: '#BDBDBD',
                        500: '#9E9E9E',
                        600: '#757575',
                        700: '#616161',
                        800: '#424242',
                        900: '#212121'
                    }
                }
            }
        }
    };
    </script>
</head>
<body class="font-inter bg-neutral-50 min-h-screen">
    <!-- @COMPONENT: LoginScreen -->
    <div id="loginScreen" class="min-h-screen flex items-center justify-center p-4">
        <div class="max-w-md w-full">
            <!-- WAP Logo and Branding -->
            <div class="text-center mb-8">
                <div class="bg-primary-500 text-white w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                    <span class="material-icons text-2xl">precision_manufacturing</span>
                </div>
                <h1 class="text-2xl font-bold text-neutral-800 mb-2">Sistema de Controle de Qualidade</h1>
                <p class="text-neutral-600">WAP - Gestão Integrada de Inspeções</p>
            </div>

            <!-- Login Form -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <form data-event="submit:handleLogin">
                    <div class="mb-4">
                        <label for="email" class="block text-sm font-medium text-neutral-700 mb-2">E-mail</label>
                        <input type="email" id="email" data-bind="user.email" class="w-full px-3 py-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-colors" placeholder="seu.email@wap.com.br" required>
                    </div>
                    
                    <div class="mb-6">
                        <label for="password" class="block text-sm font-medium text-neutral-700 mb-2">Senha</label>
                        <input type="password" id="password" data-bind="user.password" class="w-full px-3 py-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-colors" placeholder="••••••••" required>
                    </div>

                    <button type="submit" data-implementation="Authenticate user and redirect to dashboard based on role" class="w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center">
                        <span class="material-icons mr-2">login</span>
                        Entrar
                    </button>
                </form>

                <div class="mt-4 text-center">
                    <a href="#" class="text-sm text-primary-500 hover:text-primary-600">Esqueceu sua senha?</a>
                </div>
            </div>

            <!-- Security Notice -->
            <div class="text-center mt-6 text-xs text-neutral-500">
                <p>Acesso seguro com autenticação JWT • Sessão expira automaticamente</p>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: LoginScreen -->

    <!-- @COMPONENT: MainApplication -->
    <div id="mainApp" class="hidden">
        <!-- Navigation Header -->
        <header class="bg-white shadow-sm border-b border-neutral-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <!-- Logo and Title -->
                    <div class="flex items-center">
                        <div class="bg-primary-500 text-white w-8 h-8 rounded flex items-center justify-center mr-3">
                            <span class="material-icons text-lg">precision_manufacturing</span>
                        </div>
                        <div>
                            <h1 class="text-lg font-semibold text-neutral-800">Controle de Qualidade</h1>
                            <p class="text-xs text-neutral-500">WAP Industrial</p>
                        </div>
                    </div>

                    <!-- User Menu -->
                    <div class="flex items-center space-x-4">
                        <!-- Notifications -->
                        <button class="relative p-2 text-neutral-600 hover:text-neutral-800 rounded-lg hover:bg-neutral-100">
                            <span class="material-icons">notifications</span>
                            <span class="absolute top-1 right-1 h-2 w-2 bg-accent-500 rounded-full" data-mock="true"></span>
                        </button>

                        <!-- User Profile -->
                        <div class="flex items-center space-x-3">
                            <div class="text-right">
                                <p class="text-sm font-medium text-neutral-800" data-bind="user.name">João Silva</p>
                                <p class="text-xs text-neutral-500" data-bind="user.role">Inspetor de Qualidade</p>
                            </div>
                            <div class="bg-primary-100 text-primary-600 w-8 h-8 rounded-full flex items-center justify-center">
                                <span class="material-icons text-lg">person</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <div class="flex h-screen pt-16">
            <!-- Sidebar Navigation -->
            <nav class="w-64 bg-white shadow-sm border-r border-neutral-200 overflow-y-auto">
                <div class="p-4">
                    <!-- Role-based Navigation -->
                    <div class="space-y-2">
                        <!-- Inspector Menu Items -->
                        <div data-role="inspector" class="space-y-1">
                            <a href="#dashboard" data-event="click:navigateTo" class="flex items-center px-3 py-2 text-sm font-medium text-neutral-700 rounded-lg hover:bg-neutral-100 hover:text-neutral-900 bg-primary-50 text-primary-700">
                                <span class="material-icons mr-3">dashboard</span>
                                Dashboard
                            </a>
                            <a href="#new-inspection" data-event="click:navigateTo" class="flex items-center px-3 py-2 text-sm font-medium text-neutral-700 rounded-lg hover:bg-neutral-100 hover:text-neutral-900">
                                <span class="material-icons mr-3">add_circle</span>
                                Nova Inspeção
                            </a>
                            <a href="#my-inspections" data-event="click:navigateTo" class="flex items-center px-3 py-2 text-sm font-medium text-neutral-700 rounded-lg hover:bg-neutral-100 hover:text-neutral-900">
                                <span class="material-icons mr-3">assignment</span>
                                Minhas Inspeções
                            </a>
                        </div>

                        <!-- Quality Engineering Menu Items -->
                        <div data-role="engineering" class="hidden space-y-1">
                            <a href="#approval-queue" class="flex items-center px-3 py-2 text-sm font-medium text-neutral-700 rounded-lg hover:bg-neutral-100 hover:text-neutral-900">
                                <span class="material-icons mr-3">approval</span>
                                Fila de Aprovação
                                <span class="ml-auto bg-accent-500 text-white text-xs rounded-full px-2 py-0.5" data-bind="pendingApprovals.count">3</span>
                            </a>
                            <a href="#inspection-plans" class="flex items-center px-3 py-2 text-sm font-medium text-neutral-700 rounded-lg hover:bg-neutral-100 hover:text-neutral-900">
                                <span class="material-icons mr-3">description</span>
                                Planos de Inspeção
                            </a>
                            <a href="#acceptance-recipes" class="flex items-center px-3 py-2 text-sm font-medium text-neutral-700 rounded-lg hover:bg-neutral-100 hover:text-neutral-900">
                                <span class="material-icons mr-3">science</span>
                                Receitas de Aceite
                            </a>
                        </div>

                        <!-- Block Control Menu Items -->
                        <div data-role="blockControl" class="hidden space-y-1">
                            <a href="#blocks" class="flex items-center px-3 py-2 text-sm font-medium text-neutral-700 rounded-lg hover:bg-neutral-100 hover:text-neutral-900">
                                <span class="material-icons mr-3">block</span>
                                Gestão de Bloqueios
                            </a>
                        </div>

                        <!-- Manager Menu Items -->
                        <div data-role="manager" class="hidden space-y-1">
                            <a href="#reports" class="flex items-center px-3 py-2 text-sm font-medium text-neutral-700 rounded-lg hover:bg-neutral-100 hover:text-neutral-900">
                                <span class="material-icons mr-3">analytics</span>
                                Relatórios
                            </a>
                            <a href="#indicators" class="flex items-center px-3 py-2 text-sm font-medium text-neutral-700 rounded-lg hover:bg-neutral-100 hover:text-neutral-900">
                                <span class="material-icons mr-3">trending_up</span>
                                Indicadores
                            </a>
                        </div>
                    </div>

                    <!-- Business Units -->
                    <div class="mt-6">
                        <h3 class="px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider">Unidades de Negócio</h3>
                        <div class="mt-2 space-y-1">
                            <a href="#" class="flex items-center px-3 py-2 text-sm text-neutral-600 rounded-lg hover:bg-neutral-100">
                                <span class="material-icons mr-3 text-lg">construction</span>
                                DIY
                            </a>
                            <a href="#" class="flex items-center px-3 py-2 text-sm text-neutral-600 rounded-lg hover:bg-neutral-100">
                                <span class="material-icons mr-3 text-lg">computer</span>
                                TECH
                            </a>
                            <a href="#" class="flex items-center px-3 py-2 text-sm text-neutral-600 rounded-lg hover:bg-neutral-100">
                                <span class="material-icons mr-3 text-lg">kitchen</span>
                                COZINHA/BEAUTY
                            </a>
                            <a href="#" class="flex items-center px-3 py-2 text-sm text-neutral-600 rounded-lg hover:bg-neutral-100">
                                <span class="material-icons mr-3 text-lg">directions_car</span>
                                MOTOR & COMFORT
                            </a>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="flex-1 overflow-y-auto bg-neutral-50">
                <!-- @COMPONENT: Dashboard -->
                <div id="dashboardContent" class="p-6">
                    <!-- Page Header -->
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-neutral-800">Dashboard de Qualidade</h2>
                        <p class="text-neutral-600">Visão geral das inspeções e indicadores</p>
                    </div>

                    <!-- Key Metrics Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <!-- Inspections Today -->
                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="bg-primary-100 text-primary-600 w-12 h-12 rounded-lg flex items-center justify-center">
                                        <span class="material-icons">assignment_turned_in</span>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-neutral-600">Inspeções Hoje</p>
                                    <p class="text-2xl font-bold text-neutral-800" data-bind="metrics.inspectionsToday">23</p>
                                </div>
                            </div>
                        </div>

                        <!-- Approval Rate -->
                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="bg-secondary-100 text-secondary-600 w-12 h-12 rounded-lg flex items-center justify-center">
                                        <span class="material-icons">check_circle</span>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-neutral-600">Taxa de Aprovação</p>
                                    <p class="text-2xl font-bold text-neutral-800" data-bind="metrics.approvalRate">92.5%</p>
                                </div>
                            </div>
                        </div>

                        <!-- Pending Approvals -->
                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="bg-accent-100 text-accent-600 w-12 h-12 rounded-lg flex items-center justify-center">
                                        <span class="material-icons">pending</span>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-neutral-600">Aguardando Aprovação</p>
                                    <p class="text-2xl font-bold text-neutral-800" data-bind="metrics.pendingApprovals">7</p>
                                </div>
                            </div>
                        </div>

                        <!-- Blocked Items -->
                        <div class="bg-white rounded-lg shadow p-6">
                            <div class="flex items-center">
                                <div class="flex-shrink-0">
                                    <div class="bg-red-100 text-red-600 w-12 h-12 rounded-lg flex items-center justify-center">
                                        <span class="material-icons">block</span>
                                    </div>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm font-medium text-neutral-600">Itens Bloqueados</p>
                                    <p class="text-2xl font-bold text-neutral-800" data-bind="metrics.blockedItems">2</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Inspections and Quick Actions -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Recent Inspections -->
                        <div class="lg:col-span-2 bg-white rounded-lg shadow">
                            <div class="px-6 py-4 border-b border-neutral-200">
                                <h3 class="text-lg font-semibold text-neutral-800">Inspeções Recentes</h3>
                            </div>
                            <div class="p-6">
                                <!-- @MAP: recentInspections.map(inspection => ( -->
                                <div class="space-y-4">
                                    <div class="flex items-center justify-between p-4 bg-neutral-50 rounded-lg" data-mock="true">
                                        <div class="flex items-center space-x-4">
                                            <div class="bg-secondary-100 text-secondary-600 w-10 h-10 rounded-full flex items-center justify-center">
                                                <span class="material-icons text-sm">check_circle</span>
                                            </div>
                                            <div>
                                                <p class="font-medium text-neutral-800">FW009547 - Aspirador WAP GTW</p>
                                                <p class="text-sm text-neutral-600">Série: 230815-142330-A7B9</p>
                                                <p class="text-xs text-neutral-500">15/08/2023 14:23</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-secondary-100 text-secondary-800">
                                                Aprovado
                                            </span>
                                        </div>
                                    </div>

                                    <div class="flex items-center justify-between p-4 bg-neutral-50 rounded-lg" data-mock="true">
                                        <div class="flex items-center space-x-4">
                                            <div class="bg-accent-100 text-accent-600 w-10 h-10 rounded-full flex items-center justify-center">
                                                <span class="material-icons text-sm">pending</span>
                                            </div>
                                            <div>
                                                <p class="font-medium text-neutral-800">TC003421 - Furadeira TECH Pro</p>
                                                <p class="text-sm text-neutral-600">Série: 230815-135612-B2C4</p>
                                                <p class="text-xs text-neutral-500">15/08/2023 13:56</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-accent-100 text-accent-800">
                                                Pendente
                                            </span>
                                        </div>
                                    </div>

                                    <div class="flex items-center justify-between p-4 bg-neutral-50 rounded-lg" data-mock="true">
                                        <div class="flex items-center space-x-4">
                                            <div class="bg-red-100 text-red-600 w-10 h-10 rounded-full flex items-center justify-center">
                                                <span class="material-icons text-sm">cancel</span>
                                            </div>
                                            <div>
                                                <p class="font-medium text-neutral-800">CB002156 - Liquidificador BEAUTY</p>
                                                <p class="text-sm text-neutral-600">Série: 230815-131045-C8D1</p>
                                                <p class="text-xs text-neutral-500">15/08/2023 13:10</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                                Reprovado
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <!-- @END_MAP )) -->
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="bg-white rounded-lg shadow">
                            <div class="px-6 py-4 border-b border-neutral-200">
                                <h3 class="text-lg font-semibold text-neutral-800">Ações Rápidas</h3>
                            </div>
                            <div class="p-6 space-y-4">
                                <button data-event="click:startNewInspection" class="w-full flex items-center justify-center px-4 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors">
                                    <span class="material-icons mr-2">add_circle</span>
                                    Nova Inspeção
                                </button>
                                
                                <button data-event="click:scanQRCode" class="w-full flex items-center justify-center px-4 py-3 border border-neutral-300 text-neutral-700 hover:bg-neutral-50 rounded-lg transition-colors">
                                    <span class="material-icons mr-2">qr_code_scanner</span>
                                    Escanear QR Code
                                </button>

                                <button data-event="click:viewMyInspections" class="w-full flex items-center justify-center px-4 py-3 border border-neutral-300 text-neutral-700 hover:bg-neutral-50 rounded-lg transition-colors">
                                    <span class="material-icons mr-2">assignment</span>
                                    Minhas Inspeções
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: Dashboard -->

                <!-- @COMPONENT: InspectionForm -->
                <div id="inspectionContent" class="hidden p-6">
                    <!-- Page Header with Product Info -->
                    <div class="bg-white rounded-lg shadow mb-6 p-6">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h2 class="text-2xl font-bold text-neutral-800">Nova Inspeção</h2>
                                <p class="text-neutral-600">ID: <span data-bind="inspection.id" class="font-mono">150823-142530-A7B9</span></p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-accent-100 text-accent-800">
                                    <span class="material-icons mr-1 text-sm">schedule</span>
                                    Em Andamento
                                </span>
                            </div>
                        </div>

                        <!-- Product Information -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-neutral-50 rounded-lg">
                            <div>
                                <label class="block text-sm font-medium text-neutral-600 mb-1">Código do Produto</label>
                                <p class="text-sm font-mono text-neutral-800" data-bind="product.code">FW009547</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-neutral-600 mb-1">Descrição</label>
                                <p class="text-sm text-neutral-800" data-bind="product.description">Aspirador WAP GTW Inox 20L</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-neutral-600 mb-1">Categoria</label>
                                <p class="text-sm text-neutral-800" data-bind="product.category">Aspirador Pó/Água</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-neutral-600 mb-1">Unidade de Negócio</label>
                                <p class="text-sm text-neutral-800" data-bind="product.businessUnit">DIY</p>
                            </div>
                        </div>

                        <!-- Inspection Plan Access -->
                        <div class="mt-4">
                            <button data-event="click:openInspectionPlan" class="inline-flex items-center px-4 py-2 bg-primary-100 text-primary-700 hover:bg-primary-200 rounded-lg transition-colors">
                                <span class="material-icons mr-2">description</span>
                                Visualizar Plano de Inspeção Completo
                                <span class="ml-2 text-xs bg-primary-200 px-2 py-1 rounded">v2.1</span>
                            </button>
                        </div>
                    </div>

                    <!-- Inspection Steps Progress -->
                    <div class="bg-white rounded-lg shadow mb-6 p-6">
                        <h3 class="text-lg font-semibold text-neutral-800 mb-4">Progresso da Inspeção</h3>
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center">
                                <div class="bg-secondary-500 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <span class="material-icons text-sm">check</span>
                                </div>
                                <span class="ml-2 text-sm font-medium text-secondary-600">Dados Básicos</span>
                            </div>
                            <div class="w-8 h-0.5 bg-secondary-200"></div>
                            <div class="flex items-center">
                                <div class="bg-primary-500 text-white w-8 h-8 rounded-full flex items-center justify-center">
                                    <span class="text-sm font-bold">2</span>
                                </div>
                                <span class="ml-2 text-sm font-medium text-primary-600">Testes Visuais</span>
                            </div>
                            <div class="w-8 h-0.5 bg-neutral-200"></div>
                            <div class="flex items-center">
                                <div class="bg-neutral-300 text-neutral-600 w-8 h-8 rounded-full flex items-center justify-center">
                                    <span class="text-sm font-bold">3</span>
                                </div>
                                <span class="ml-2 text-sm text-neutral-500">Testes Funcionais</span>
                            </div>
                            <div class="w-8 h-0.5 bg-neutral-200"></div>
                            <div class="flex items-center">
                                <div class="bg-neutral-300 text-neutral-600 w-8 h-8 rounded-full flex items-center justify-center">
                                    <span class="text-sm font-bold">4</span>
                                </div>
                                <span class="ml-2 text-sm text-neutral-500">Parâmetros Técnicos</span>
                            </div>
                        </div>
                    </div>

                    <!-- Visual Inspection Section -->
                    <div class="bg-white rounded-lg shadow mb-6 p-6">
                        <h3 class="text-lg font-semibold text-neutral-800 mb-4 flex items-center">
                            <span class="material-icons mr-2 text-primary-500">visibility</span>
                            Testes Visuais
                        </h3>

                        <!-- Etiquetas Verification -->
                        <div class="mb-8">
                            <h4 class="font-medium text-neutral-800 mb-4">Verificação de Etiquetas</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <!-- ID Label -->
                                <div class="border border-neutral-200 rounded-lg p-4">
                                    <div class="flex items-center justify-between mb-3">
                                        <h5 class="font-medium text-neutral-700">Etiqueta de Identificação</h5>
                                        <label class="flex items-center">
                                            <input type="checkbox" data-bind="labels.id.notApplicable" class="mr-2">
                                            <span class="text-sm text-neutral-600">N/A</span>
                                        </label>
                                    </div>
                                    
                                    <!-- Photo Upload Area -->
                                    <div class="border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center mb-3" data-implementation="Drag & drop photo upload component">
                                        <span class="material-icons text-4xl text-neutral-400 mb-2">cloud_upload</span>
                                        <p class="text-sm text-neutral-600 mb-2">Adicionar fotos da etiqueta</p>
                                        <p class="text-xs text-neutral-500">Mínimo 3 fotos • JPG, PNG até 5MB</p>
                                        <button class="mt-2 px-4 py-2 bg-primary-500 text-white rounded-lg text-sm hover:bg-primary-600">
                                            Selecionar Fotos
                                        </button>
                                    </div>

                                    <!-- Uploaded Photos Preview -->
                                    <div class="grid grid-cols-3 gap-2" data-mock="true">
                                        <!-- Modern workplace with laptops and tablets for productivity -->
                                        <div class="relative group">
                                            <img src="https://pixabay.com/get/g14408da1f58de7d1c8c4fff504f825731e2b31b79139a2b3f57536ab367a3637da000cf21b7e4bf50b8d0d7763dfb028a2049bae22fa70aa8a6ae46549b394f8_1280.jpg" alt="Etiqueta ID foto 1" class="w-full h-20 object-cover rounded">
                                            <button class="absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity">
                                                <span class="material-icons text-xs">close</span>
                                            </button>
                                        </div>
                                        <!-- Close-up view of industrial machinery components -->
                                        <div class="relative group">
                                            <img src="https://images.unsplash.com/photo-1581094288338-2314dddb7ece?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=150" alt="Etiqueta ID foto 2" class="w-full h-20 object-cover rounded">
                                            <button class="absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity">
                                                <span class="material-icons text-xs">close</span>
                                            </button>
                                        </div>
                                        <!-- Industrial equipment detail showing precision manufacturing -->
                                        <div class="relative group">
                                            <img src="https://images.unsplash.com/photo-1565043589221-1a6fd9ae45c7?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=150" alt="Etiqueta ID foto 3" class="w-full h-20 object-cover rounded">
                                            <button class="absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity">
                                                <span class="material-icons text-xs">close</span>
                                            </button>
                                        </div>
                                    </div>
                                    <p class="text-xs text-secondary-600 mt-2 flex items-center">
                                        <span class="material-icons mr-1 text-xs">check_circle</span>
                                        3/3 fotos obrigatórias enviadas
                                    </p>
                                </div>

                                <!-- EAN Label -->
                                <div class="border border-neutral-200 rounded-lg p-4">
                                    <div class="flex items-center justify-between mb-3">
                                        <h5 class="font-medium text-neutral-700">Etiqueta EAN</h5>
                                        <label class="flex items-center">
                                            <input type="checkbox" data-bind="labels.ean.notApplicable" class="mr-2">
                                            <span class="text-sm text-neutral-600">N/A</span>
                                        </label>
                                    </div>
                                    
                                    <div class="border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center">
                                        <span class="material-icons text-4xl text-neutral-400 mb-2">cloud_upload</span>
                                        <p class="text-sm text-neutral-600 mb-2">Adicionar fotos da etiqueta EAN</p>
                                        <p class="text-xs text-neutral-500">Mínimo 3 fotos • JPG, PNG até 5MB</p>
                                        <button class="mt-2 px-4 py-2 bg-primary-500 text-white rounded-lg text-sm hover:bg-primary-600">
                                            Selecionar Fotos
                                        </button>
                                    </div>
                                    <p class="text-xs text-accent-600 mt-2 flex items-center">
                                        <span class="material-icons mr-1 text-xs">warning</span>
                                        0/3 fotos obrigatórias
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- Product Visual Verification -->
                        <div class="mb-8">
                            <h4 class="font-medium text-neutral-800 mb-4">Verificação Visual do Produto</h4>
                            <div class="border border-neutral-200 rounded-lg p-4">
                                <p class="text-sm text-neutral-600 mb-4">Verificar acabamento, cor, montagem e integridade geral do produto</p>
                                
                                <div class="border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center mb-4">
                                    <span class="material-icons text-4xl text-neutral-400 mb-2">photo_camera</span>
                                    <p class="text-sm text-neutral-600 mb-2">Adicionar fotos do produto</p>
                                    <p class="text-xs text-neutral-500">Mínimo 3 fotos • Diferentes ângulos</p>
                                    <button class="mt-2 px-4 py-2 bg-primary-500 text-white rounded-lg text-sm hover:bg-primary-600">
                                        Tirar Fotos
                                    </button>
                                </div>

                                <!-- Checklist -->
                                <div class="space-y-3">
                                    <label class="flex items-center">
                                        <input type="checkbox" data-bind="visual.finishing" class="mr-3 h-4 w-4 text-primary-600 focus:ring-primary-500">
                                        <span class="text-sm text-neutral-700">Acabamento conforme especificação</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" data-bind="visual.color" class="mr-3 h-4 w-4 text-primary-600 focus:ring-primary-500">
                                        <span class="text-sm text-neutral-700">Cor conforme padrão</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" data-bind="visual.assembly" class="mr-3 h-4 w-4 text-primary-600 focus:ring-primary-500">
                                        <span class="text-sm text-neutral-700">Montagem correta</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" data-bind="visual.integrity" class="mr-3 h-4 w-4 text-primary-600 focus:ring-primary-500">
                                        <span class="text-sm text-neutral-700">Integridade geral</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Technical Parameters -->
                        <div class="mb-8">
                            <h4 class="font-medium text-neutral-800 mb-4">Parâmetros Técnicos</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <!-- Vacuum Parameter -->
                                <div class="border border-neutral-200 rounded-lg p-4">
                                    <label class="block text-sm font-medium text-neutral-700 mb-2">
                                        Vácuo (mBar)
                                        <span class="text-red-500">*</span>
                                    </label>
                                    <input type="number" data-bind="parameters.vacuum" step="0.1" class="w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="Ex: 180.5">
                                    <p class="text-xs text-neutral-500 mt-1">Limite: 160-200 mBar</p>
                                    <p class="text-xs text-secondary-600 mt-1 hidden" data-validation="success">✓ Dentro do limite</p>
                                    <p class="text-xs text-red-600 mt-1 hidden" data-validation="error">⚠ Fora do limite crítico</p>
                                </div>

                                <!-- Voltage Parameter -->
                                <div class="border border-neutral-200 rounded-lg p-4">
                                    <label class="block text-sm font-medium text-neutral-700 mb-2">
                                        Tensão (V)
                                        <span class="text-red-500">*</span>
                                    </label>
                                    <input type="number" data-bind="parameters.voltage" step="0.1" class="w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="Ex: 127.0">
                                    <p class="text-xs text-neutral-500 mt-1">Limite: 110-127 V</p>
                                </div>

                                <!-- Power Parameter -->
                                <div class="border border-neutral-200 rounded-lg p-4">
                                    <label class="block text-sm font-medium text-neutral-700 mb-2">
                                        Potência (W)
                                        <span class="text-red-500">*</span>
                                    </label>
                                    <input type="number" data-bind="parameters.power" step="1" class="w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="Ex: 1400">
                                    <p class="text-xs text-neutral-500 mt-1">Limite: 1200-1600 W</p>
                                </div>
                            </div>
                        </div>

                        <!-- Observations -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-neutral-700 mb-2">Observações</label>
                            <textarea data-bind="inspection.observations" rows="4" class="w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="Descreva qualquer observação relevante sobre a inspeção..."></textarea>
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex flex-col sm:flex-row gap-4 justify-end">
                            <button data-event="click:saveAsDraft" class="px-6 py-3 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors">
                                Salvar Rascunho
                            </button>
                            <button data-event="click:submitInspection" data-implementation="Validate all required fields and submit for automatic processing" class="px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors flex items-center">
                                <span class="material-icons mr-2">send</span>
                                Enviar Inspeção
                            </button>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: InspectionForm -->

                <!-- @COMPONENT: QualityEngineeringApproval -->
                <div id="approvalContent" class="hidden p-6">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-neutral-800">Fila de Aprovação - Engenharia da Qualidade</h2>
                        <p class="text-neutral-600">Inspeções aguardando aprovação condicional</p>
                    </div>

                    <!-- Pending Approvals List -->
                    <div class="space-y-6">
                        <!-- @MAP: pendingApprovals.map(approval => ( -->
                        <div class="bg-white rounded-lg shadow p-6" data-mock="true">
                            <div class="flex items-start justify-between mb-4">
                                <div class="flex items-center space-x-4">
                                    <div class="bg-accent-100 text-accent-600 w-12 h-12 rounded-lg flex items-center justify-center">
                                        <span class="material-icons">pending</span>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-neutral-800">TC003421 - Furadeira TECH Pro</h3>
                                        <p class="text-sm text-neutral-600">Inspeção: 150823-135612-B2C4</p>
                                        <p class="text-xs text-neutral-500">Inspetor: Maria Santos • 15/08/2023 13:56</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-accent-100 text-accent-800">
                                        Aguardando Aprovação
                                    </span>
                                </div>
                            </div>

                            <!-- Parameter Issues -->
                            <div class="mb-4">
                                <h4 class="font-medium text-neutral-800 mb-2">Parâmetros Fora do Limite</h4>
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                                        <div>
                                            <p class="font-medium text-yellow-800">RPM</p>
                                            <p class="text-sm text-yellow-700">Valor medido: 2850 • Limite: 2800-3200</p>
                                        </div>
                                        <span class="px-2 py-1 bg-yellow-200 text-yellow-800 text-xs rounded">Não Crítico</span>
                                    </div>
                                    <div class="flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                                        <div>
                                            <p class="font-medium text-yellow-800">Torque</p>
                                            <p class="text-sm text-yellow-700">Valor medido: 45.2 Nm • Limite: 40-60 Nm</p>
                                        </div>
                                        <span class="px-2 py-1 bg-yellow-200 text-yellow-800 text-xs rounded">Não Crítico</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Inspector Notes -->
                            <div class="mb-4">
                                <h4 class="font-medium text-neutral-800 mb-2">Observações do Inspetor</h4>
                                <p class="text-sm text-neutral-600 bg-neutral-50 p-3 rounded-lg">
                                    Produto apresenta funcionamento normal. RPM levemente abaixo do limite, mas sem comprometer performance. Todos os testes visuais aprovados.
                                </p>
                            </div>

                            <!-- Approval Actions -->
                            <div class="border-t border-neutral-200 pt-4">
                                <h4 class="font-medium text-neutral-800 mb-3">Decisão da Engenharia</h4>
                                <div class="space-y-4">
                                    <!-- Decision Options -->
                                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                        <button data-event="click:approveConditional" class="flex items-center justify-center px-4 py-3 bg-secondary-500 hover:bg-secondary-600 text-white rounded-lg transition-colors">
                                            <span class="material-icons mr-2">check_circle</span>
                                            Aprovar
                                        </button>
                                        <button data-event="click:approveConditional" class="flex items-center justify-center px-4 py-3 bg-accent-500 hover:bg-accent-600 text-white rounded-lg transition-colors">
                                            <span class="material-icons mr-2">warning</span>
                                            Aprovar Condicional
                                        </button>
                                        <button data-event="click:reject" class="flex items-center justify-center px-4 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors">
                                            <span class="material-icons mr-2">cancel</span>
                                            Reprovar
                                        </button>
                                    </div>

                                    <!-- Justification -->
                                    <div>
                                        <label class="block text-sm font-medium text-neutral-700 mb-2">Justificativa</label>
                                        <textarea data-bind="approval.justification" rows="3" class="w-full px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="Descreva a justificativa para sua decisão..."></textarea>
                                    </div>

                                    <!-- Evidence Upload -->
                                    <div>
                                        <label class="block text-sm font-medium text-neutral-700 mb-2">Evidências (Opcional)</label>
                                        <div class="border-2 border-dashed border-neutral-300 rounded-lg p-4 text-center">
                                            <span class="material-icons text-2xl text-neutral-400 mb-2">attach_file</span>
                                            <p class="text-sm text-neutral-600">Anexar documentos ou evidências</p>
                                            <button class="mt-2 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg text-sm hover:bg-neutral-200">
                                                Selecionar Arquivos
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- @END_MAP )) -->
                    </div>
                </div>
                <!-- @END_COMPONENT: QualityEngineeringApproval -->
            </main>
        </div>
    </div>
    <!-- @END_COMPONENT: MainApplication -->

    <!-- @COMPONENT: InspectionPlanModal -->
    <div id="inspectionPlanModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto">
            <div class="sticky top-0 bg-white border-b border-neutral-200 p-6 flex items-center justify-between">
                <div>
                    <h3 class="text-xl font-semibold text-neutral-800">Plano de Inspeção</h3>
                    <p class="text-sm text-neutral-600">FW009547 - Aspirador WAP GTW Inox 20L • Versão 2.1</p>
                </div>
                <button data-event="click:closePlanModal" class="text-neutral-400 hover:text-neutral-600">
                    <span class="material-icons text-2xl">close</span>
                </button>
            </div>
            <div class="p-6">
                <!-- Plan Steps -->
                <div class="space-y-6">
                    <div class="border border-neutral-200 rounded-lg p-4">
                        <h4 class="font-semibold text-neutral-800 mb-2">1. Preparação Inicial</h4>
                        <ul class="list-disc list-inside text-sm text-neutral-600 space-y-1">
                            <li>Verificar se o produto está desligado e desconectado</li>
                            <li>Preparar ambiente de teste limpo e adequado</li>
                            <li>Separar todos os instrumentos de medição calibrados</li>
                        </ul>
                    </div>
                    <div class="border border-neutral-200 rounded-lg p-4">
                        <h4 class="font-semibold text-neutral-800 mb-2">2. Inspeção Visual Completa</h4>
                        <ul class="list-disc list-inside text-sm text-neutral-600 space-y-1">
                            <li>Verificar integridade de todas as etiquetas obrigatórias</li>
                            <li>Documentar com fotos todos os componentes externos</li>
                            <li>Verificar acabamento, cor e montagem</li>
                            <li>Inspecionar embalagem e acessórios</li>
                        </ul>
                    </div>
                    <div class="border border-neutral-200 rounded-lg p-4">
                        <h4 class="font-semibold text-neutral-800 mb-2">3. Testes Funcionais</h4>
                        <ul class="list-disc list-inside text-sm text-neutral-600 space-y-1">
                            <li>Testar todas as funções de aspiração</li>
                            <li>Verificar sistema de filtragem</li>
                            <li>Medir parâmetros técnicos conforme especificação</li>
                            <li>Documentar resultados com precisão</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: InspectionPlanModal -->

    <script>
        (function() {
            // TODO: Implement application logic, state management, and API integration
            
            // Screen Management
            function showScreen(screenId) {
                document.querySelectorAll('#loginScreen, #mainApp').forEach(el => el.classList.add('hidden'));
                document.getElementById(screenId).classList.remove('hidden');
            }

            function showContent(contentId) {
                document.querySelectorAll('#dashboardContent, #inspectionContent, #approvalContent').forEach(el => el.classList.add('hidden'));
                document.getElementById(contentId).classList.remove('hidden');
            }

            // Simulated login for demo
            function simulateLogin() {
                setTimeout(() => {
                    showScreen('mainApp');
                }, 1000);
            }

            // Navigation handlers
            document.addEventListener('click', function(e) {
                const target = e.target.closest('[data-event]');
                if (!target) return;

                const event = target.getAttribute('data-event');
                
                switch(event) {
                    case 'submit:handleLogin':
                        e.preventDefault();
                        simulateLogin();
                        break;
                    case 'click:startNewInspection':
                        showContent('inspectionContent');
                        break;
                    case 'click:navigateTo':
                        e.preventDefault();
                        const href = target.getAttribute('href');
                        if (href === '#dashboard') showContent('dashboardContent');
                        if (href === '#new-inspection') showContent('inspectionContent');
                        if (href === '#approval-queue') showContent('approvalContent');
                        break;
                    case 'click:openInspectionPlan':
                        document.getElementById('inspectionPlanModal').classList.remove('hidden');
                        break;
                    case 'click:closePlanModal':
                        document.getElementById('inspectionPlanModal').classList.add('hidden');
                        break;
                }
            });

            // Parameter validation simulation
            document.addEventListener('input', function(e) {
                if (e.target.dataset.bind && e.target.dataset.bind.startsWith('parameters.')) {
                    // TODO: Implement real-time parameter validation against acceptance recipes
                    const value = parseFloat(e.target.value);
                    const validationSuccess = e.target.parentElement.querySelector('[data-validation="success"]');
                    const validationError = e.target.parentElement.querySelector('[data-validation="error"]');
                    
                    if (validationSuccess && validationError) {
                        if (value >= 160 && value <= 200) {
                            validationSuccess.classList.remove('hidden');
                            validationError.classList.add('hidden');
                        } else {
                            validationSuccess.classList.add('hidden');
                            validationError.classList.remove('hidden');
                        }
                    }
                }
            });

            // Initialize app
            console.log('WAP Quality Control System initialized');
            console.log('TODO: Implement JWT authentication, file upload, offline sync, and notification system');
        })();
    </script>
</body>
</html>